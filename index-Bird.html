<!Doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>o
<canvas width="800" height="500" style="border: 1px solid #000;"></canvas>

<script src="Bird.js"></script>
<script>

	/*
	 Vt当前速度
	 Vo 初始速度
	 a:加速度
	 t:时间差   计时的结束时间-计时的起始时间

	 Vt=V0+at

	 s=V0*t+1/2a*t*t //t时间段内移动距离
	 */
	var cs=document.querySelector('canvas');
	var ctx=cs.getContext('2d');

	var img =new Image()


	img.onload =function() {
		var bird = new Bird(
				{
					ctx: ctx,
					img: img,

				}
		)
  var startTime = new Date();
		var Dvalue = 0
		var endTime = 0


		setInterval(function () {
      endTime = new Date();
			Dvalue = endTime-startTime;
			startTime=endTime;
			ctx.clearRect(0,0,cs.width,cs.height)
			bird.render(Dvalue);


		}, 50)
	}

	img.src ="imgs/birds.png";
//	var h=45;
//	var w=52;
//	var x=100;
//	var y=100;
//
//	var speed=0;//当前速度
//	var startTime=new Date();//起始时间 //时间戳
//	var endTime=0;//结束时间
//	var Dvalue=0;//时间差
//	var a=0.0005; //加速
//
//	var maxSpeed=0.5;//最大速度
//
//	var angles=0;//旋转的角度
//	var maxAngles=45;//最大角度
//
//
//
//	var bird=new Image();
//
//	bird.onload=function(){
//		var  i=0;
//
//		//求时差
//		var timer =setInterval(function(){
//			var endTime = new Date();
//			Dvalue = endTime-startTime;
//      startTime=endTime;
//			//求初始速度speed
//			speed+=a*Dvalue;
//			speed = speed>maxSpeed?maxSpeed:speed;
//			//求位移y的值
//			y += speed*Dvalue+ a*Dvalue*Dvalue/2;
//
//			//算出选转的角度
//			angles = speed/maxSpeed*maxAngles;
//
//		  	x+=0.05*Dvalue;
//			//清空画布
//			ctx.clearRect(0,0,cs.width,cs.height);
//			//保存画布初始状态
//			ctx.save();
//			ctx.translate(x,y);
//			ctx.rotate(angles*Math.PI/180);
//			ctx.drawImage(bird,i*w,0,w,h,-w/2,-h/2,w,h);
//			//恢复之前保存的画布以便下次移动和旋转
//			ctx.restore();
//
//			i++
//			i=i%3;
//		},50)
//
//	}
//
//	cs.onclick=function(){
//		speed=-0.3;
//	}


//	bird.src="imgs/birds.png";
</script>
</body>
</html>